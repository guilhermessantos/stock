{"version":3,"file":"static/webpack/static/development/pages/index.js.a1695a66dd227909750c.hot-update.js","sources":["webpack:///./src/components/table-participation/index.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { MediaQuery } from 'react-responsive-hoc'\nimport { FaTrashAlt, FaDollarSign } from 'react-icons/fa'\nimport { Table, Participation, ButtonAction, Message } from './styles'\n\nconst TableParticipation = ({ companies, contribute, handleContributeTotal, handleRemoveCompany }) => {\n  useEffect(() => {\n    let total = 0;\n    const listValue = document.querySelectorAll('.table__participation')\n\n    for (const item of listValue) {\n      const replaceDot = item.textContent.replace(/\\,/, '.')\n      total += Number(replaceDot.replace(/\\R\\$/, ''))\n    }\n\n    handleContributeTotal(parseFloat(total).toFixed(2))\n  }, [contribute, companies])\n\n  const handleParticipation = (value) => {\n    let total = 0\n\n    companies.map(item => {\n      total += item.participation\n    })\n\n    return parseInt(value / total * 100)\n  }\n\n  const handleAmount = (price, participation) => {\n    let amount = []\n    const contributeValue = handleParticipation(participation) * Number(contribute.split('.').join('')) / 100\n\n    for(let i = price; i <= contributeValue; i += price) {\n      amount.push(i)\n    }\n\n    return amount.length\n  }\n\n  const replaceDot = value => {\n    return value.toString().replace(/\\./g, ',')\n  }\n\n  const handleContribute = (price, participation) => {\n    return replaceDot(parseFloat(handleAmount(price, participation) * price).toFixed(2))\n  }\n\n  return (\n    companies.length ? (\n      <Table>\n        <thead>\n          <tr>\n            <th width=\"100\">Ação</th>\n            <th>Preço atual</th>\n            <th>Participação</th>\n            <th className=\"table__contribute\">Aporte</th>\n            <th>Quant.</th>\n            <MediaQuery query=\"(min-device-width: 480px)\">\n              <th></th>\n            </MediaQuery>\n          </tr>\n        </thead>\n        <tbody>\n          {companies.map((company, index) => (\n            <tr key={company.symbol + index}>\n              <td>\n                {company.symbol}\n                <MediaQuery query=\"(max-device-width: 479px)\">\n                  <button className=\"button__remove\" onClick={() => handleRemoveCompany(company.symbol)}><FaTrashAlt /></button>\n                </MediaQuery>\n              </td>\n              <td>R$ {replaceDot(company.price)}</td>\n              <Participation>\n              <span>{company.participation}%</span><span>{handleParticipation(company.participation)}%</span>\n              </Participation>\n              <td className=\"table__participation\">R$ {handleContribute(company.price, company.participation)}</td>\n              <td>{handleAmount(company.price, company.participation)}</td>\n              <MediaQuery query=\"(min-device-width: 480px)\">\n                <td>\n                    <ButtonAction>\n                      <div>\n                        <button onClick={() => handleRemoveCompany(company.symbol)}><FaTrashAlt /></button>\n                        {/* <span><FaRedo /></span> */}\n                      </div>\n                    </ButtonAction>\n                </td>\n              </MediaQuery>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    ) : <Message><FaDollarSign /> Ainda não foi incluído ativo <FaDollarSign /></Message>\n  )\n}\n\nexport { TableParticipation }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlBA;AA4BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;;;;;A","sourceRoot":""}