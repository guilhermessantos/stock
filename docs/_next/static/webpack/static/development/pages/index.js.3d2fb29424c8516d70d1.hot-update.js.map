{"version":3,"file":"static/webpack/static/development/pages/index.js.3d2fb29424c8516d70d1.hot-update.js","sources":["webpack:///./src/pages/index.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\nimport Head from 'next/head'\nimport { FaGithub, FaSyncAlt } from 'react-icons/fa'\nimport GlobalStyle from '../styles/global'\nimport { Contribute } from '../components/contribute'\nimport { SearchCompany } from '../components/search-company'\nimport { TableParticipation } from '../components/table-participation'\n\nconst Home = () => {\n  const refInputSymbol = useRef(0)\n  const [value, setValue] = useState('R$ 0')\n  const [companyValue, setCompanyValue] = useState([])\n  const [contributeTotal, setContributeTotal] = useState(0)\n  const [load, setLoad] = useState(true)\n\n  useEffect(() => {\n    const storageCompanies = localStorage.getItem('companies')\n    const storageValue = localStorage.getItem('value')\n\n    storageCompanies && setCompanyValue(JSON.parse(storageCompanies))\n    storageValue && setValue(`R$ ${storageValue}`)\n    setLoad(false)\n  }, [])\n\n  useEffect(() => {\n    localStorage.setItem('companies', JSON.stringify(companyValue))\n    refInputSymbol.current.focus()\n  }, [companyValue])\n\n  useEffect(() => {\n    localStorage.setItem('value', value.replace(/R\\$/, ''))\n  }, [value])\n\n  const handleCompany = company => {\n    setCompanyValue([...companyValue, company])\n  }\n\n  const handleValue = contribute => {\n    setValue(contribute)\n  }\n\n  const handleContributeTotal = value => {\n    setContributeTotal(value)\n  }\n\n  const handleRemoveCompany = symbol => {\n    setCompanyValue(companyValue.filter(item => item.symbol !== symbol))\n  }\n\n  return (\n    <>\n      <Head>\n        <title>Stock | Github</title>\n      </Head>\n      <Contribute handleValue={handleValue} contribute={value} contributeTotal={contributeTotal} />\n      <SearchCompany refProp={refInputSymbol} handleCompany={handleCompany} />\n      <TableParticipation\n        companies={companyValue}\n        contribute={value.replace(/R\\$/, '')}\n        handleContributeTotal={handleContributeTotal}\n        handleRemoveCompany={handleRemoveCompany}\n      />\n      <a className=\"link_github\" href=\"https://github.com/guilhermessantos/stock\">\n        <FaGithub size=\"18\" />\n      </a>\n      <GlobalStyle />\n      {load && <div className=\"load\"><FaSyncAlt size=\"30\" /></div>}\n    </>\n  )\n}\n\nexport default Home\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}